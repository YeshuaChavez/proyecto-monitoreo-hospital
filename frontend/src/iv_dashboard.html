<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monitor IV â€” Paciente</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #03080f;
  --panel: rgba(5,18,35,0.92);
  --border: rgba(0,180,255,0.18);
  --accent: #00cfff;
  --accent2: #00ff9d;
  --warn: #ffb300;
  --danger: #ff2d5b;
  --heartcolor: #ff2d5b;
  --text: #b8dff5;
  --muted: #2a5a7a;
  --glow: rgba(0,207,255,0.25);
}
* { margin:0; padding:0; box-sizing:border-box; }
body {
  background: var(--bg);
  font-family: 'Exo 2', sans-serif;
  min-height: 100vh;
  overflow: hidden;
  color: var(--text);
}
.scene-bg { position: fixed; inset: 0; z-index: 0; }
.room-floor { position: absolute; bottom: 0; left: 0; right: 0; height: 38%; background: linear-gradient(180deg, #06131e 0%, #081929 100%); border-top: 1px solid rgba(0,150,200,0.1); }
.room-wall { position: absolute; top: 0; left: 0; right: 0; height: 62%; background: linear-gradient(180deg, #020c16 0%, #04111e 100%); }
.window { position: absolute; top: 40px; right: 120px; width: 130px; height: 100px; border: 2px solid rgba(0,120,180,0.3); border-radius: 4px; background: linear-gradient(180deg, #001428 0%, #002040 100%); box-shadow: inset 0 0 30px rgba(0,80,160,0.3), 0 0 20px rgba(0,80,160,0.1); overflow: hidden; }
.window-cross-h { position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: rgba(0,120,180,0.4); }
.window-cross-v { position: absolute; left: 50%; top: 0; bottom: 0; width: 1px; background: rgba(0,120,180,0.4); }
.star { position: absolute; width: 2px; height: 2px; background: #fff; border-radius: 50%; animation: twinkle var(--t,2s) ease-in-out infinite; }
@keyframes twinkle { 0%,100%{opacity:0.2} 50%{opacity:1} }
.grid-dots { position: fixed; inset: 0; z-index: 0; background-image: radial-gradient(circle, rgba(0,150,200,0.06) 1px, transparent 1px); background-size: 28px 28px; pointer-events: none; }
.scanline { position: fixed; inset: 0; z-index: 1; background: repeating-linear-gradient(0deg, transparent 0px, transparent 3px, rgba(0,180,255,0.012) 3px, rgba(0,180,255,0.012) 4px); pointer-events: none; animation: scanmove 8s linear infinite; }
@keyframes scanmove { 0%{background-position:0 0} 100%{background-position:0 100px} }
.ui-wrap { position: relative; z-index: 10; width: 100vw; height: 100vh; display: grid; grid-template-rows: 56px 1fr 48px; }
header { display: flex; align-items: center; justify-content: space-between; padding: 0 28px; background: rgba(2,10,20,0.85); backdrop-filter: blur(16px); border-bottom: 1px solid var(--border); }
.logo { display:flex; align-items:center; gap:10px; }
.logo-cross { font-size: 20px; color: var(--accent); text-shadow: 0 0 12px var(--accent); animation: pulse-glow 2s ease-in-out infinite; }
@keyframes pulse-glow { 0%,100%{text-shadow:0 0 12px var(--accent)} 50%{text-shadow:0 0 28px var(--accent), 0 0 50px var(--accent)} }
.logo-name { font-family: 'Orbitron', sans-serif; font-size: 15px; font-weight: 700; letter-spacing: 4px; color: var(--accent); }
.logo-sub { font-family:'Share Tech Mono'; font-size:9px; color:var(--muted); letter-spacing:2px; }
.hdr-center { font-family:'Share Tech Mono'; font-size:11px; color:var(--muted); text-align:center; }
.hdr-center b { color:var(--text); font-size:13px; }
.hdr-right { display:flex; align-items:center; gap:20px; font-family:'Share Tech Mono'; font-size:11px; color:var(--muted); }
.dot-live { width:7px;height:7px;border-radius:50%;background:var(--accent2);box-shadow:0 0 8px var(--accent2);display:inline-block;margin-right:5px;animation:blink 1.4s ease-in-out infinite; }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.2} }
.main-area { position: relative; display: grid; grid-template-columns: 240px 1fr 240px; gap: 0; overflow: hidden; }
.side-col { padding: 16px 12px; display: flex; flex-direction: column; gap: 12px; background: linear-gradient(90deg, rgba(2,10,20,0.7), transparent); backdrop-filter: blur(4px); }
.side-col.right { background: linear-gradient(270deg, rgba(2,10,20,0.7), transparent); }
.card { background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 14px 16px; position: relative; overflow: hidden; transition: border-color 0.4s; }
.card::before { content:''; position:absolute; top:0;left:0;right:0;height:1px; background: linear-gradient(90deg, transparent, var(--accent), transparent); opacity: 0.5; }
.card-label { font-family:'Share Tech Mono'; font-size:9px; letter-spacing:2px; color:var(--muted); text-transform:uppercase; margin-bottom:6px; }
.card-value { font-family:'Orbitron', sans-serif; font-size:28px; font-weight:700; line-height:1; color:var(--accent); }
.card-value.heart { color:var(--heartcolor); text-shadow:0 0 16px var(--heartcolor); animation: heartbeat-num 0.85s ease-in-out infinite; }
@keyframes heartbeat-num { 0%,100%{transform:scale(1)} 15%{transform:scale(1.12)} 30%{transform:scale(1)} }
.card-unit { font-size:11px; color:var(--muted); margin-left:3px; font-family:'Share Tech Mono'; }
.card-sub { font-size:10px; color:var(--muted); margin-top:4px; font-family:'Share Tech Mono'; }
.mbar { height:3px; background:rgba(0,150,200,0.15); border-radius:2px; margin-top:10px; overflow:hidden; }
.mbar-fill { height:100%; border-radius:2px; transition:width 1s ease; background:linear-gradient(90deg,var(--accent),var(--accent2)); box-shadow:0 0 6px var(--accent); }
.card.warn { border-color: var(--warn); animation: warnpulse 2s ease-in-out infinite; }
.card.warn .card-value { color:var(--warn); text-shadow:0 0 16px var(--warn); }
@keyframes warnpulse { 0%,100%{box-shadow:none} 50%{box-shadow:0 0 20px rgba(255,179,0,0.2)} }
.card.danger { border-color:var(--danger); animation:dangerpulse 1s ease-in-out infinite; }
.card.danger .card-value { color:var(--danger); text-shadow:0 0 16px var(--danger); }
@keyframes dangerpulse { 0%,100%{box-shadow:none} 50%{box-shadow:0 0 28px rgba(255,45,91,0.35)} }
.ecg-wrap { height:50px; position:relative; margin-top:6px; }
canvas.ecg { width:100%; height:100%; display:block; }
.scene-center { position: relative; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 0; }
.scene-svg { width: 100%; max-width: 700px; height: auto; }
#liquid-fill { transition: height 1.5s ease, y 1.5s ease; }
.drop-iv { animation: drop-fall 1.2s ease-in infinite; transform-origin: center; }
@keyframes drop-fall { 0%{transform:translateY(0);opacity:1} 80%{opacity:1} 100%{transform:translateY(22px);opacity:0} }
.drop-iv2 { animation-delay:0.6s; }
.heart-beat-group { animation: heartpump var(--bpm-speed,0.85s) ease-in-out infinite; transform-origin: 50% 50%; }
@keyframes heartpump { 0%,100%{transform:scale(1)} 15%{transform:scale(1.18)} 30%{transform:scale(1)} 45%{transform:scale(1.08)} 60%{transform:scale(1)} }
.spo2-glow { animation: spo2pulse var(--bpm-speed,0.85s) ease-in-out infinite; }
@keyframes spo2pulse { 0%,100%{opacity:0.5;filter:drop-shadow(0 0 4px #ff2d5b)} 50%{opacity:1;filter:drop-shadow(0 0 14px #ff2d5b)} }
/* ESP32 animaciones */
.esp32-led { animation: esp-blink 1.1s ease-in-out infinite; }
@keyframes esp-blink { 0%,100%{opacity:0.4;filter:drop-shadow(0 0 2px #00ff9d)} 50%{opacity:1;filter:drop-shadow(0 0 10px #00ff9d)} }
.esp32-wifi { animation: wifi-pulse 2s ease-in-out infinite; }
@keyframes wifi-pulse { 0%,100%{opacity:0.2} 50%{opacity:1} }
.esp32-box { animation: esp-glow 3s ease-in-out infinite; }
@keyframes esp-glow { 0%,100%{filter:drop-shadow(0 0 4px rgba(0,200,100,0.3))} 50%{filter:drop-shadow(0 0 12px rgba(0,200,100,0.6))} }
.iv-percent-wrap { position:relative; width:60px; height:60px; margin:0 auto; }
.iv-percent-wrap svg { transform:rotate(-90deg); }
.iv-ring-track { fill:none; stroke:var(--border); stroke-width:5; }
.iv-ring-fill { fill:none; stroke:var(--accent); stroke-width:5; stroke-linecap:round; stroke-dasharray:170; transition:stroke-dashoffset 1.2s ease, stroke 0.5s; filter:drop-shadow(0 0 4px var(--accent)); }
.iv-pct-label { position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center; }
.iv-pct-num { font-family:'Orbitron';font-size:14px;font-weight:700;color:var(--accent);line-height:1; }
.iv-pct-u { font-size:8px;color:var(--muted); }
footer { display:flex; align-items:center; justify-content:space-between; padding: 0 28px; background: rgba(2,10,20,0.85); border-top: 1px solid var(--border); font-family:'Share Tech Mono'; font-size:10px; color:var(--muted); backdrop-filter: blur(16px); }
.demo-slider { position: fixed; bottom: 58px; left: 50%; transform: translateX(-50%); z-index: 50; background: rgba(2,10,24,0.9); border: 1px solid var(--border); border-radius: 30px; padding: 8px 20px; display: flex; align-items: center; gap: 14px; backdrop-filter: blur(12px); box-shadow: 0 0 24px rgba(0,180,255,0.1); }
.demo-slider label { font-family:'Share Tech Mono'; font-size:10px; color:var(--muted); white-space:nowrap; }
input[type=range] { -webkit-appearance:none; width:200px; height:3px; background:var(--border); border-radius:2px; outline:none; }
input[type=range]::-webkit-slider-thumb { -webkit-appearance:none; width:14px;height:14px; border-radius:50%; background:var(--accent); box-shadow:0 0 8px var(--accent); cursor:pointer; }
#sliderVal { font-family:'Share Tech Mono'; font-size:12px; color:var(--accent); min-width:52px; text-align:right; }
.notif { position:fixed; top:70px; left:50%; transform:translateX(-50%); z-index:100; padding:10px 24px; border-radius:8px; font-family:'Share Tech Mono'; font-size:12px; letter-spacing:1px; border: 1px solid; backdrop-filter:blur(12px); opacity:0; transition:opacity 0.4s; pointer-events:none; }
.notif.show { opacity:1; animation:notif-in 0.4s ease; }
@keyframes notif-in { from{transform:translateX(-50%) translateY(-10px)} to{transform:translateX(-50%) translateY(0)} }
.notif.warn { background:rgba(255,179,0,0.12); border-color:var(--warn); color:var(--warn); }
.notif.danger { background:rgba(255,45,91,0.15); border-color:var(--danger); color:var(--danger); animation:notif-in 0.4s ease, dangerblink 0.5s ease-in-out infinite 0.4s; }
@keyframes dangerblink { 0%,100%{opacity:1} 50%{opacity:0.6} }
</style>
</head>
<body>

<div class="scene-bg">
  <div class="room-wall"></div>
  <div class="room-floor"></div>
  <div class="window">
    <div class="window-cross-h"></div>
    <div class="window-cross-v"></div>
    <div class="star" style="top:20%;left:30%;--t:2.1s"></div>
    <div class="star" style="top:35%;left:65%;--t:3.4s"></div>
    <div class="star" style="top:55%;left:20%;--t:1.8s"></div>
    <div class="star" style="top:25%;left:80%;--t:2.8s"></div>
    <div class="star" style="top:70%;left:50%;--t:4.1s"></div>
  </div>
</div>
<div class="grid-dots"></div>
<div class="scanline"></div>
<div class="notif" id="notif"></div>

<div class="ui-wrap">
  <header>
    <div class="logo">
      <div class="logo-cross">âœš</div>
      <div>
        <div class="logo-name">MEDIVISION IV</div>
        <div class="logo-sub">SISTEMA DE MONITOREO HOSPITALARIO</div>
      </div>
    </div>
    <div class="hdr-center">
      <div style="font-size:9px;color:var(--muted);letter-spacing:2px;margin-bottom:2px">PACIENTE</div>
      <b>Juan GarcÃ­a â€” Cama #04 â€” UCI</b>
    </div>
    <div class="hdr-right">
      <div><span class="dot-live"></span>ESP32 ONLINE</div>
      <div id="clock" style="color:var(--text)">--:--:--</div>
    </div>
  </header>

  <div class="main-area">

    <!-- COLUMNA IZQUIERDA -->
    <div class="side-col">
      <div class="card">
        <div class="card-label">Suero IV restante</div>
        <div style="display:flex;align-items:center;gap:12px;margin-top:4px">
          <div class="iv-percent-wrap">
            <svg viewBox="0 0 60 60" width="60" height="60">
              <circle class="iv-ring-track" cx="30" cy="30" r="27"/>
              <circle class="iv-ring-fill" id="iv-ring" cx="30" cy="30" r="27" stroke-dashoffset="0"/>
            </svg>
            <div class="iv-pct-label">
              <div class="iv-pct-num" id="iv-pct">100%</div>
              <div class="iv-pct-u">resto</div>
            </div>
          </div>
          <div>
            <div class="card-value" id="val-peso" style="font-size:22px">500</div>
            <div class="card-unit">gramos</div>
            <div class="card-sub" id="sub-peso">Inicio: 500g</div>
          </div>
        </div>
        <div class="mbar"><div class="mbar-fill" id="bar-peso" style="width:100%"></div></div>
      </div>
      <div class="card">
        <div class="card-label">Consumido</div>
        <div class="card-value" id="val-cons" style="font-size:22px">0</div>
        <div class="card-unit">g infundidos</div>
        <div class="mbar"><div class="mbar-fill" id="bar-cons" style="width:0%;background:linear-gradient(90deg,var(--accent2),var(--accent))"></div></div>
      </div>
      <div class="card">
        <div class="card-label">Tasa de flujo</div>
        <div class="card-value" id="val-flujo" style="font-size:20px">--</div>
        <div class="card-unit">g / min</div>
        <div class="card-sub">Promedio Ãºltimas lecturas</div>
      </div>
      <div class="card" id="card-eta">
        <div class="card-label">Tiempo restante</div>
        <div class="card-value" id="val-eta" style="font-size:20px">--</div>
        <div class="card-unit">minutos</div>
        <div class="card-sub" id="sub-eta">Calculando...</div>
      </div>
    </div>

    <!-- ESCENA CENTRAL -->
    <div class="scene-center">
      <svg class="scene-svg" viewBox="0 0 700 520" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="skinGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#c8845a"/>
            <stop offset="100%" stop-color="#a06040"/>
          </linearGradient>
          <linearGradient id="skinFace" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#d4906a"/>
            <stop offset="100%" stop-color="#b07050"/>
          </linearGradient>
          <linearGradient id="bedGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#0d2a40"/>
            <stop offset="100%" stop-color="#071520"/>
          </linearGradient>
          <linearGradient id="mattressGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#e8e0d0"/>
            <stop offset="100%" stop-color="#c8baa0"/>
          </linearGradient>
          <linearGradient id="pillowGrad" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#f0ebe0"/>
            <stop offset="100%" stop-color="#d8d0c0"/>
          </linearGradient>
          <linearGradient id="blanketGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#1a4a7a"/>
            <stop offset="100%" stop-color="#102848"/>
          </linearGradient>
          <linearGradient id="bagOutline" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="rgba(0,150,200,0.2)"/>
            <stop offset="50%" stop-color="rgba(0,200,255,0.35)"/>
            <stop offset="100%" stop-color="rgba(0,150,200,0.2)"/>
          </linearGradient>
          <linearGradient id="liquidG" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="rgba(0,220,255,0.75)"/>
            <stop offset="100%" stop-color="rgba(0,150,220,0.55)"/>
          </linearGradient>
          <!-- PCB ESP32 verde -->
          <linearGradient id="esp32PCB" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#1a4a2a"/>
            <stop offset="100%" stop-color="#0d2e18"/>
          </linearGradient>
          <linearGradient id="esp32Shadow" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#0e2a18"/>
            <stop offset="100%" stop-color="#061008"/>
          </linearGradient>
          <clipPath id="bagClip">
            <path d="M580,72 Q596,68 612,72 L618,155 Q596,163 574,155 Z"/>
          </clipPath>
          <filter id="glow-blue">
            <feGaussianBlur stdDeviation="4" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <filter id="glow-red">
            <feGaussianBlur stdDeviation="3" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <filter id="glow-green">
            <feGaussianBlur stdDeviation="5" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <filter id="shadow-soft">
            <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="rgba(0,0,0,0.5)"/>
          </filter>
          <filter id="esp-board-glow">
            <feGaussianBlur stdDeviation="8" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
        </defs>

        <!-- â•â• POSTE IV â•â• -->
        <ellipse cx="596" cy="505" rx="30" ry="6" fill="rgba(0,0,0,0.4)"/>
        <line x1="580" y1="498" x2="612" y2="498" stroke="#1a3a5a" stroke-width="5" stroke-linecap="round"/>
        <circle cx="578" cy="500" r="4" fill="#0d2030"/>
        <circle cx="614" cy="500" r="4" fill="#0d2030"/>
        <rect x="594" y="40" width="4" height="460" fill="url(#bedGrad)" rx="2"/>
        <rect x="570" y="38" width="52" height="6" fill="#1a3a5a" rx="3"/>

        <!-- â•â• BOLSA IV â•â• -->
        <path d="M596,38 Q596,28 606,24 Q616,20 616,28" fill="none" stroke="#2a5a8a" stroke-width="3" stroke-linecap="round"/>
        <ellipse cx="596" cy="118" rx="26" ry="48" fill="rgba(0,100,160,0.12)" filter="url(#glow-blue)"/>
        <path d="M580,72 Q596,67 612,72 L618,155 Q596,163 574,155 Z" fill="url(#bagOutline)" stroke="rgba(0,200,255,0.55)" stroke-width="1.5"/>
        <g clip-path="url(#bagClip)">
          <rect id="liquid-fill" x="574" y="72" width="44" height="91" fill="url(#liquidG)" opacity="0.9"/>
          <path d="M570,0 Q580,-5 590,0 Q600,5 610,0 Q620,-3 630,0 L630,10 L570,10 Z" fill="rgba(255,255,255,0.15)" transform="translate(0,72)">
            <animateTransform attributeName="transform" type="translate" from="-20,72" to="20,72" dur="2s" repeatCount="indefinite"/>
          </path>
          <ellipse cx="585" cy="105" rx="5" ry="14" fill="rgba(255,255,255,0.1)" transform="rotate(-8,585,105)"/>
        </g>
        <text x="596" y="105" text-anchor="middle" font-family="Share Tech Mono" font-size="7" fill="rgba(255,255,255,0.6)" letter-spacing="0.5">NaCl</text>
        <text x="596" y="116" text-anchor="middle" font-family="Share Tech Mono" font-size="7" fill="rgba(255,255,255,0.4)">0.9%</text>
        <text x="596" y="128" text-anchor="middle" font-family="Share Tech Mono" font-size="7" fill="rgba(255,255,255,0.3)">500mL</text>
        <rect x="590" y="157" width="12" height="8" rx="3" fill="rgba(0,100,150,0.5)" stroke="rgba(0,180,255,0.5)" stroke-width="1"/>

        <!-- â•â• TUBO IV (goteo) â•â• -->
        <line x1="596" y1="165" x2="596" y2="190" stroke="rgba(0,200,255,0.35)" stroke-width="2.5"/>
        <rect x="590" y="190" width="12" height="24" rx="3" fill="rgba(0,150,200,0.1)" stroke="rgba(0,180,255,0.4)" stroke-width="1"/>
        <rect x="591" y="204" width="10" height="9" rx="2" fill="rgba(0,200,255,0.2)"/>
        <ellipse class="drop-iv" id="drop-a" cx="596" cy="196" rx="2.5" ry="3.5" fill="rgba(0,220,255,0.9)" filter="url(#glow-blue)"/>
        <ellipse class="drop-iv drop-iv2" id="drop-b" cx="596" cy="196" rx="2" ry="3" fill="rgba(0,200,255,0.7)" filter="url(#glow-blue)"/>

        <!-- â•â• TUBO IV â€” desde gotero hasta muÃ±eca paciente â•â• -->
        <!-- Capa exterior (silicona traslÃºcida) -->
        <path d="M596,214 C596,252 575,272 545,287 C515,302 475,308 445,309 C415,309 385,309 330,309 C310,309 295,309 281,310"
              fill="none" stroke="rgba(160,220,255,0.15)" stroke-width="5.5" stroke-linecap="round"/>
        <!-- Tubo interior azul claro -->
        <path d="M596,214 C596,252 575,272 545,287 C515,302 475,308 445,309 C415,309 385,309 330,309 C310,309 295,309 281,310"
              fill="none" stroke="rgba(0,190,255,0.35)" stroke-width="3" stroke-linecap="round"/>
        <!-- Flujo animado (suero moviÃ©ndose) -->
        <path d="M596,214 C596,252 575,272 545,287 C515,302 475,308 445,309 C415,309 385,309 330,309 C310,309 295,309 281,310"
              fill="none" stroke="rgba(0,235,255,0.75)" stroke-width="1.8" stroke-dasharray="14,16" stroke-linecap="round">
          <animate attributeName="stroke-dashoffset" from="30" to="-30" dur="1.0s" repeatCount="indefinite"/>
        </path>

        <!-- â•â• CAMA â•â• -->
        <ellipse cx="310" cy="508" rx="220" ry="12" fill="rgba(0,0,0,0.5)"/>
        <rect x="100" y="310" width="18" height="180" fill="#0d2030" rx="4"/>
        <rect x="94" y="310" width="30" height="12" fill="#112840" rx="3"/>
        <rect x="94" y="480" width="30" height="14" fill="#0a1e30" rx="3"/>
        <rect x="502" y="330" width="16" height="160" fill="#0d2030" rx="4"/>
        <rect x="496" y="330" width="28" height="10" fill="#112840" rx="3"/>
        <rect x="496" y="482" width="28" height="12" fill="#0a1e30" rx="3"/>
        <circle cx="106" cy="496" r="8" fill="#081520" stroke="#0d2a40" stroke-width="2"/>
        <circle cx="512" cy="496" r="7" fill="#081520" stroke="#0d2a40" stroke-width="2"/>
        <circle cx="106" cy="336" r="6" fill="#081520"/>
        <circle cx="512" cy="336" r="6" fill="#081520"/>
        <rect x="108" y="318" width="396" height="10" fill="#0f2840" rx="2"/>
        <rect x="108" y="480" width="396" height="10" fill="#0a1e30" rx="2"/>
        <rect x="108" y="318" width="8" height="172" fill="#0d2438"/>
        <rect x="496" y="318" width="8" height="172" fill="#0d2438"/>
        <rect x="110" y="296" width="394" height="28" fill="url(#mattressGrad)" rx="4"/>
        <rect x="110" y="300" width="394" height="24" fill="#ddd5c0" rx="3" opacity="0.9"/>

        <!-- â•â• ALMOHADA â•â• -->
        <ellipse cx="183" cy="304" rx="68" ry="18" fill="url(#pillowGrad)" opacity="0.95"/>
        <ellipse cx="183" cy="300" rx="64" ry="14" fill="#f5f0e8" opacity="0.6"/>

        <!-- â•â• MANTA â•â• -->
        <path d="M114,308 L502,308 L502,480 L114,480 Z" fill="url(#blanketGrad)"/>
        <path d="M114,308 Q310,300 502,308 L502,330 Q310,322 114,330 Z" fill="rgba(30,80,140,0.6)"/>
        <line x1="200" y1="330" x2="195" y2="480" stroke="rgba(10,40,80,0.3)" stroke-width="1.5"/>
        <line x1="300" y1="330" x2="298" y2="480" stroke="rgba(10,40,80,0.3)" stroke-width="1.5"/>
        <line x1="400" y1="330" x2="402" y2="480" stroke="rgba(10,40,80,0.3)" stroke-width="1.5"/>
        <rect x="114" y="308" width="388" height="5" fill="rgba(40,100,180,0.4)" rx="1"/>

        <!-- â•â• PACIENTE CUERPO â•â• -->
        <rect x="130" y="286" width="90" height="20" fill="url(#skinGrad)" rx="8" opacity="0.7"/>

        <!-- BRAZO CORTO â€” apenas asoma de la manta, termina en ~290 -->
        <path d="M195,303 Q230,300 262,306 Q275,309 285,310"
              fill="none" stroke="rgba(0,0,0,0.22)" stroke-width="14" stroke-linecap="round"/>
        <path d="M195,303 Q230,300 262,306 Q275,309 285,310"
              fill="none" stroke="#c07858" stroke-width="12" stroke-linecap="round"/>
        <path d="M196,300 Q230,297 260,303 Q272,306 281,308"
              fill="none" stroke="rgba(255,200,160,0.18)" stroke-width="5" stroke-linecap="round"/>

        <!-- MANO compacta -->
        <ellipse cx="291" cy="310" rx="11" ry="8" fill="#c07858"/>
        <!-- Dedos visibles -->
        <ellipse cx="301" cy="307" rx="4.5" ry="3" fill="#b87050" transform="rotate(-10,301,307)"/>
        <ellipse cx="302" cy="311" rx="4.5" ry="2.8" fill="#b87050"/>
        <ellipse cx="300" cy="315" rx="4.5" ry="3" fill="#b87050" transform="rotate(10,300,315)"/>
        <!-- Pulgar -->
        <ellipse cx="287" cy="318" rx="3.5" ry="4.5" fill="#b87050" transform="rotate(18,287,318)"/>

        <!-- â•â• CONEXIÃ“N IV EN MUÃ‘ECA (cÃ¡nula + esparadrapo) â•â• -->
        <!-- PequeÃ±o conector plÃ¡stico del tubo -->
        <rect x="272" y="306" width="11" height="7" rx="2"
              fill="rgba(0,150,200,0.45)" stroke="rgba(0,210,255,0.75)" stroke-width="1"/>
        <!-- CÃ¡nula metÃ¡lica entrando a la vena -->
        <line x1="282" y1="309.5" x2="272" y2="309.5"
              stroke="rgba(190,230,255,0.9)" stroke-width="1.8" stroke-linecap="round"/>
        <!-- Punta biselada -->
        <polygon points="272,308 265,309.5 272,311.5"
                 fill="rgba(200,235,255,0.92)" stroke="rgba(0,180,255,0.5)" stroke-width="0.5"/>
        <!-- Punto de entrada vena â€” pulso -->
        <circle cx="265" cy="309.5" r="3.5"
                fill="rgba(0,200,255,0.22)" stroke="rgba(0,200,255,0.85)" stroke-width="1.3"/>
        <circle cx="265" cy="309.5" r="3" fill="none" stroke="rgba(0,210,255,0.5)" stroke-width="1">
          <animate attributeName="r" from="3" to="10" dur="1.5s" repeatCount="indefinite"/>
          <animate attributeName="opacity" from="1" to="0" dur="1.5s" repeatCount="indefinite"/>
        </circle>
        <!-- Esparadrapo fijando la cÃ¡nula -->
        <rect x="258" y="305" width="22" height="9" rx="3"
              fill="rgba(235,215,175,0.48)" stroke="rgba(195,170,130,0.5)" stroke-width="0.8"/>
        <line x1="269" y1="305" x2="269" y2="314" stroke="rgba(185,160,120,0.35)" stroke-width="0.7"/>
        <line x1="258" y1="309.5" x2="280" y2="309.5" stroke="rgba(185,160,120,0.22)" stroke-width="0.5"/>
        <!-- Etiqueta IV LINE -->
        <text x="265" y="295" text-anchor="middle" font-family="Share Tech Mono" font-size="7" fill="rgba(0,200,255,0.75)">IV LINE</text>
        <line x1="265" y1="296" x2="265" y2="302" stroke="rgba(0,200,255,0.45)" stroke-width="1" stroke-dasharray="2,2"/>

        <!-- â•â• DEDAL OXÃMETRO DESTACADO â•â• -->
        <!-- En dedo Ã­ndice (~301,307) â€” mÃ¡s grande, resaltado -->
        <g class="spo2-glow" filter="url(#glow-red)">
          <!-- Cuerpo principal del dedal -->
          <rect x="297" y="301" width="16" height="11" rx="4" fill="#cc1a3a" opacity="0.96"/>
          <!-- Tapa superior (clip) -->
          <rect x="297" y="299" width="16" height="5" rx="2.5" fill="#991020" opacity="0.96"/>
          <!-- LED sensor rojo -->
          <circle cx="305" cy="307" r="3" fill="#ff3a5a" opacity="0.98"/>
          <!-- Anillo glow LED -->
          <circle cx="305" cy="307" r="4.5" fill="none" stroke="rgba(255,50,80,0.55)" stroke-width="1.2"/>
          <circle cx="305" cy="307" r="6.5" fill="none" stroke="rgba(255,50,80,0.2)" stroke-width="1"/>
          <!-- Brillo dedal -->
          <rect x="299" y="302" width="5" height="3" rx="1.5" fill="rgba(255,180,180,0.25)"/>
        </g>

        <!-- â•â• CABLE OXÃMETRO â†’ ESP32 â•â• -->
        <!-- Cable rojo desde dedal hasta la caja ESP32 en mesita lateral derecha -->
        <path d="M313,306 C330,300 350,292 370,285 C390,278 410,275 430,290 C445,302 448,320 450,340"
              fill="none" stroke="rgba(255,60,90,0.6)" stroke-width="2.5" stroke-linecap="round"
              stroke-dasharray="5,3">
          <animate attributeName="stroke-dashoffset" from="0" to="-16" dur="0.85s" repeatCount="indefinite"/>
        </path>
        <!-- Conector en el dedal -->
        <rect x="312" y="303" width="8" height="5" rx="2" fill="rgba(200,20,40,0.4)" stroke="rgba(255,60,90,0.7)" stroke-width="1"/>

        <!-- Etiqueta SpO2 sobre el dedal -->
        <rect x="314" y="284" width="52" height="22" rx="4" fill="rgba(255,20,50,0.15)" stroke="rgba(255,60,90,0.45)" stroke-width="1"/>
        <text x="340" y="292" text-anchor="middle" font-family="Share Tech Mono" font-size="6.5" fill="rgba(255,100,120,0.85)" letter-spacing="1">SpOâ‚‚</text>
        <text x="340" y="302" text-anchor="middle" font-family="Orbitron" font-size="9" fill="rgba(255,80,100,0.98)" id="spo2-val">98%</text>

        <!-- â•â• Display peso ESP32 (flotante, sin cajita PCB) â•â• -->
        <rect x="424" y="306" width="82" height="24" rx="5" fill="rgba(2,12,22,0.88)" stroke="rgba(0,180,255,0.3)" stroke-width="1"/>
        <text x="465" y="314" text-anchor="middle" font-family="Share Tech Mono" font-size="5.5" fill="rgba(0,180,255,0.7)" letter-spacing="0.5">ESP32 Â· PESO</text>
        <text id="esp32-peso-label" x="465" y="325" text-anchor="middle" font-family="Orbitron" font-size="8" fill="rgba(0,220,255,0.95)">500.0 g</text>

        <!-- â•â• CABEZA / CARA â•â• -->
        <rect x="168" y="275" width="22" height="20" fill="#c07858" rx="4"/>
        <ellipse cx="179" cy="258" rx="38" ry="34" fill="url(#skinFace)" filter="url(#shadow-soft)"/>
        <path d="M145,248 Q148,218 179,218 Q210,218 213,248 Q205,230 179,228 Q153,230 145,248 Z" fill="#2a1a0a"/>
        <path d="M146,252 Q144,240 148,232 Q155,220 179,220" fill="none" stroke="#3a2a10" stroke-width="4" stroke-linecap="round"/>
        <path d="M163,256 Q168,252 174,256" fill="none" stroke="#7a4a30" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M184,256 Q190,252 196,256" fill="none" stroke="#7a4a30" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M176,260 Q179,268 182,260" fill="none" stroke="rgba(100,60,40,0.4)" stroke-width="1.2" stroke-linecap="round"/>
        <path d="M170,272 Q179,277 188,272" fill="none" stroke="#9a6040" stroke-width="1.5" stroke-linecap="round"/>
        <ellipse cx="142" cy="262" rx="7" ry="10" fill="#b87050"/>
        <path d="M145,256 Q148,262 145,268" fill="none" stroke="rgba(100,60,40,0.3)" stroke-width="1"/>

        <!-- â•â• CORAZÃ“N (sobre manta) â•â• -->
        <g class="heart-beat-group" id="heartGroup" transform="translate(170,335)">
          <path d="M0,-12 C-14,-22 -30,-10 -20,4 L0,20 L20,4 C30,-10 14,-22 0,-12 Z" fill="var(--heartcolor)" opacity="0.85" filter="url(#glow-red)"/>
          <path d="M0,-10 C-11,-18 -24,-8 -16,3 L0,16 L16,3 C24,-8 11,-18 0,-10 Z" fill="rgba(255,80,120,0.5)"/>
        </g>
        <text x="170" y="375" text-anchor="middle" font-family="Share Tech Mono" font-size="7" fill="rgba(255,80,100,0.6)" letter-spacing="1">CARDIO</text>

        <!-- â•â• MONITOR ECG MESITA â•â• -->
        <rect x="50" y="370" width="80" height="60" fill="#0a1e30" rx="4" stroke="#0d2a40" stroke-width="1"/>
        <rect x="52" y="372" width="76" height="54" fill="#060f1a" rx="3"/>
        <rect x="54" y="374" width="72" height="36" fill="#020f08" rx="2"/>
        <text x="90" y="383" text-anchor="middle" font-family="Share Tech Mono" font-size="6" fill="rgba(0,200,80,0.5)" letter-spacing="1">ECG</text>
        <polyline id="ecg-line" points="56,400 62,400 65,388 68,413 71,400 80,400 86,400 92,400 98,400 104,400 108,400 118,400" fill="none" stroke="rgba(0,220,80,0.8)" stroke-width="1.2" stroke-linecap="round"/>
        <text x="90" y="415" text-anchor="middle" font-family="Share Tech Mono" font-size="7" fill="rgba(0,200,80,0.6)" id="mini-bpm">72 BPM</text>
        <rect x="58" y="430" width="6" height="30" fill="#0a1e30" rx="2"/>
        <rect x="86" y="430" width="6" height="30" fill="#0a1e30" rx="2"/>
        <rect x="110" y="430" width="6" height="30" fill="#0a1e30" rx="2"/>

      </svg>
    </div>

    <!-- COLUMNA DERECHA -->
    <div class="side-col right">
      <div class="card" id="card-bpm">
        <div class="card-label">Frec. CardÃ­aca</div>
        <div class="card-value heart" id="val-bpm">72</div>
        <div class="card-unit">BPM</div>
        <div class="ecg-wrap">
          <canvas class="ecg" id="ecg-canvas"></canvas>
        </div>
      </div>
      <div class="card" id="card-spo2">
        <div class="card-label">SaturaciÃ³n Oâ‚‚ (SpOâ‚‚)</div>
        <div class="card-value" id="val-spo2" style="color:var(--heartcolor);text-shadow:0 0 16px var(--heartcolor)">98</div>
        <div class="card-unit">%</div>
        <div class="card-sub">Normal &gt; 95%</div>
        <div class="mbar">
          <div class="mbar-fill" id="bar-spo2" style="width:98%;background:linear-gradient(90deg,var(--heartcolor),#ff8a9a)"></div>
        </div>
      </div>
      <div class="card" id="card-estado">
        <div class="card-label">Estado del paciente</div>
        <div class="card-value" id="val-estado" style="font-size:14px;color:var(--accent2);font-family:Exo 2">âœ“ ESTABLE</div>
        <div class="card-sub" id="sub-estado">InfusiÃ³n en progreso</div>
      </div>
      <div class="card">
        <div class="card-label">Lecturas ESP32</div>
        <div class="card-value" id="val-lect" style="font-size:22px">0</div>
        <div class="card-unit">total</div>
      </div>
    </div>

  </div>

  <footer>
    <div>PROTOCOLO: ESP32 HX711 â†’ SERIAL â†’ DASHBOARD</div>
    <div id="last-update">SIN DATOS AÃšN</div>
    <div>MEDIVISION IV v2.0</div>
  </footer>
</div>

<div class="demo-slider">
  <label>SIMULAR SUERO:</label>
  <input type="range" id="slider" min="0" max="500" value="500" step="1">
  <div id="sliderVal">500 g</div>
</div>

<script>
const PESO_MAX = 500;
let pesoActual = 500;
let lastPeso = 500;
let lastTime = Date.now();
let deltas = [];
let lecturas = 0;
let bpm = 72;
let spo2 = 98;

setInterval(() => {
  document.getElementById('clock').textContent = new Date().toTimeString().slice(0,8);
}, 1000);

const ecgCanvas = document.getElementById('ecg-canvas');
const ecgCtx = ecgCanvas.getContext('2d');
let ecgData = new Array(80).fill(50);
let ecgPhase = 0;

function getEcgPoint(phase) {
  const p = phase % 1;
  if (p < 0.05) return 50 + (p/0.05)*6;
  if (p < 0.08) return 50 + 6 - ((p-0.05)/0.03)*10;
  if (p < 0.12) return 50 - 4 + ((p-0.08)/0.04)*24;
  if (p < 0.18) return 50 + 20 - ((p-0.12)/0.06)*34;
  if (p < 0.22) return 50 - 14 + ((p-0.18)/0.04)*20;
  if (p < 0.28) return 50 + 6 - ((p-0.22)/0.06)*8;
  if (p < 0.38) return 50 - 2 + Math.sin((p-0.28)/0.10*Math.PI)*8;
  return 50 + (Math.random()-0.5)*0.6;
}

function drawECG() {
  const w = ecgCanvas.offsetWidth || 200;
  const h = ecgCanvas.offsetHeight || 50;
  ecgCanvas.width = w; ecgCanvas.height = h;
  const speed = 60 / bpm * 0.012;
  ecgPhase += speed;
  ecgData.push(getEcgPoint(ecgPhase));
  if (ecgData.length > w) ecgData.shift();
  ecgCtx.clearRect(0,0,w,h);
  ecgCtx.fillStyle = 'rgba(0,20,10,0.4)';
  ecgCtx.fillRect(0,0,w,h);
  ecgCtx.beginPath();
  const step = w / ecgData.length;
  ecgData.forEach((v,i) => {
    const x = i * step;
    const y = (v / 100) * h;
    i === 0 ? ecgCtx.moveTo(x,y) : ecgCtx.lineTo(x,y);
  });
  ecgCtx.strokeStyle = 'rgba(255,60,90,0.9)';
  ecgCtx.lineWidth = 1.5;
  ecgCtx.shadowColor = 'rgba(255,60,90,0.6)';
  ecgCtx.shadowBlur = 6;
  ecgCtx.stroke();
  ecgCtx.shadowBlur = 0;
  const lastX = (ecgData.length-1)*step;
  const lastY = (ecgData[ecgData.length-1]/100)*h;
  ecgCtx.beginPath();
  ecgCtx.arc(lastX, lastY, 2, 0, Math.PI*2);
  ecgCtx.fillStyle = 'rgba(255,100,120,1)';
  ecgCtx.shadowColor = 'rgba(255,60,90,0.8)';
  ecgCtx.shadowBlur = 8;
  ecgCtx.fill();
}

let ecgT = 0;
function updateMiniEcg() {
  ecgT++;
  const pts = [];
  for (let i=0; i<12; i++) {
    const x = 56 + i*6;
    const phase = (ecgT*0.08 + i*0.18) % 1;
    const y = 400 - getEcgPoint(phase)/5 + 10;
    pts.push(`${x},${y.toFixed(1)}`);
  }
  document.getElementById('ecg-line').setAttribute('points', pts.join(' '));
  document.getElementById('mini-bpm').textContent = bpm + ' BPM';
}

function updateSueroSVG(peso) {
  const pct = Math.max(0, Math.min(1, peso / PESO_MAX));
  const bagH = 91;
  const fillH = pct * bagH;
  const yStart = 72 + (bagH - fillH);
  const liquidRect = document.getElementById('liquid-fill');
  if (liquidRect) {
    liquidRect.setAttribute('y', yStart.toFixed(1));
    liquidRect.setAttribute('height', (fillH + 2).toFixed(1));
  }
  const stops = document.querySelectorAll('#liquidG stop');
  if (pct > 0.5) {
    if (stops[0]) stops[0].style.stopColor = 'rgba(0,220,255,0.75)';
    if (stops[1]) stops[1].style.stopColor = 'rgba(0,150,220,0.55)';
  } else if (pct > 0.2) {
    if (stops[0]) stops[0].style.stopColor = 'rgba(255,180,0,0.75)';
    if (stops[1]) stops[1].style.stopColor = 'rgba(220,120,0,0.55)';
  } else {
    if (stops[0]) stops[0].style.stopColor = 'rgba(255,50,80,0.75)';
    if (stops[1]) stops[1].style.stopColor = 'rgba(200,20,50,0.55)';
  }
  document.documentElement.style.setProperty('--bpm-speed', (60/bpm).toFixed(2) + 's');
  ['drop-a','drop-b'].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.style.opacity = peso < 5 ? '0' : '1';
  });
  const lbl = document.getElementById('esp32-peso-label');
  if (lbl) lbl.textContent = peso.toFixed(1) + ' g';
}

function updateAll(peso) {
  const now = Date.now();
  const dt = (now - lastTime) / 60000;
  if (dt > 0 && lastPeso !== peso) {
    const d = (lastPeso - peso) / dt;
    if (d > 0) { deltas.push(d); if (deltas.length > 5) deltas.shift(); }
  }
  lastPeso = peso; lastTime = now;
  pesoActual = peso;

  const pct = Math.max(0, Math.min(1, peso / PESO_MAX));
  const pctInt = Math.round(pct * 100);
  const consumido = PESO_MAX - peso;

  const circ = 2 * Math.PI * 27;
  const ring = document.getElementById('iv-ring');
  ring.style.strokeDashoffset = circ * (1-pct);
  ring.style.stroke = pct > 0.5 ? 'var(--accent)' : pct > 0.2 ? 'var(--warn)' : 'var(--danger)';
  document.getElementById('iv-pct').textContent = pctInt + '%';
  document.getElementById('iv-pct').style.color = pct > 0.5 ? 'var(--accent)' : pct > 0.2 ? 'var(--warn)' : 'var(--danger)';
  document.getElementById('val-peso').textContent = peso.toFixed(1);
  document.getElementById('bar-peso').style.width = (pct*100)+'%';
  document.getElementById('val-cons').textContent = consumido.toFixed(1);
  document.getElementById('bar-cons').style.width = ((1-pct)*100)+'%';

  const flujo = deltas.length ? (deltas.reduce((a,b)=>a+b,0)/deltas.length).toFixed(2) : '--';
  document.getElementById('val-flujo').textContent = flujo;
  if (flujo !== '--' && parseFloat(flujo) > 0 && peso > 0) {
    const eta = Math.round(peso / parseFloat(flujo));
    document.getElementById('val-eta').textContent = eta;
    const h = Math.floor(eta/60), m = eta%60;
    document.getElementById('sub-eta').textContent = h>0 ? `â‰ˆ ${h}h ${m}min` : `â‰ˆ ${m} minutos`;
  }

  const notif = document.getElementById('notif');
  notif.classList.remove('warn','danger','show');
  document.querySelectorAll('.card').forEach(c => c.classList.remove('warn','danger'));
  if (peso <= 50) {
    document.getElementById('val-estado').textContent = 'âš  CRÃTICO â€” CAMBIAR SUERO';
    document.getElementById('val-estado').style.color = 'var(--danger)';
    document.getElementById('sub-estado').textContent = 'Â¡Suero casi vacÃ­o!';
    document.getElementById('card-eta').classList.add('danger');
    notif.textContent = 'ðŸ”´ ALERTA CRÃTICA: Suero casi agotado â€” cambiar de inmediato';
    notif.className = 'notif danger show';
  } else if (peso <= 100) {
    document.getElementById('val-estado').textContent = 'âš¡ ADVERTENCIA';
    document.getElementById('val-estado').style.color = 'var(--warn)';
    document.getElementById('sub-estado').textContent = 'Nivel bajo â€” preparar cambio';
    document.getElementById('card-eta').classList.add('warn');
    notif.textContent = 'ðŸŸ¡ Suero bajo (< 100g) â€” Preparar reemplazo';
    notif.className = 'notif warn show';
  } else {
    document.getElementById('val-estado').textContent = 'âœ“ ESTABLE';
    document.getElementById('val-estado').style.color = 'var(--accent2)';
    document.getElementById('sub-estado').textContent = 'InfusiÃ³n en progreso';
  }

  updateSueroSVG(peso);
  lecturas++;
  document.getElementById('val-lect').textContent = lecturas;
  document.getElementById('last-update').textContent = 'ÃšLTIMA LECTURA: ' + new Date().toTimeString().slice(0,8);
}

function updateBPM() {
  bpm = 68 + Math.round(Math.random()*8);
  spo2 = 96 + Math.round(Math.random()*3);
  document.getElementById('val-bpm').textContent = bpm;
  document.getElementById('val-spo2').textContent = spo2;
  document.getElementById('spo2-val').textContent = spo2 + '%';
  document.getElementById('bar-spo2').style.width = spo2 + '%';
  document.documentElement.style.setProperty('--bpm-speed', (60/bpm).toFixed(2)+'s');
}
setInterval(updateBPM, 3000);

function animLoop() {
  drawECG();
  updateMiniEcg();
  requestAnimationFrame(animLoop);
}
animLoop();

document.getElementById('slider').addEventListener('input', function() {
  const v = parseFloat(this.value);
  document.getElementById('sliderVal').textContent = v + ' g';
  if (simRunning) { clearInterval(simInterval); simRunning = false; }
  updateAll(v);
});

let simRunning = false, simInterval, simPeso = 500;
setTimeout(() => {
  if (lecturas === 0) {
    simRunning = true;
    simInterval = setInterval(() => {
      simPeso = Math.max(0, simPeso - (Math.random()*0.7+0.2));
      document.getElementById('slider').value = simPeso;
      document.getElementById('sliderVal').textContent = simPeso.toFixed(1)+' g';
      updateAll(simPeso);
      if (simPeso <= 0) clearInterval(simInterval);
    }, 2000);
  }
}, 4000);

window.recibirPeso = function(peso) {
  if (simRunning) { clearInterval(simInterval); simRunning = false; }
  const v = parseFloat(peso);
  if (!isNaN(v)) {
    document.getElementById('slider').value = Math.min(500,Math.max(0,v));
    document.getElementById('sliderVal').textContent = v.toFixed(1)+' g';
    updateAll(v);
  }
};

updateAll(500);
updateSueroSVG(500);
</script>
</body>
</html>